### Flows

## 1. First call /autherize api (usually from UI/FE page)
```
curl -v "http://localhost:9000/oauth2/authorize?response_type=code&client_id=oidc-client&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fcallback&scope=openid%20profile%20email&state=bqsHA7fEwQylLIzbfj5c7oJGXEaGripv&nonce=fjtLFf7qKpJdHKDKnzo4AKQhPEO11Elw"
```

## 2. It will return a redirect url (passed in above API call)
```
http://localhost:3000/callback?code=wZvN_UB8UO-7j6w4wop9Cf357gPy8hD48JDM7pKIOxLyrUJLotI3pJru7yyr9vTAV9G9l3Hs5Uc4FbBN--rCtYxmTFYumX0vY0DtCiq-ww8ZJUyprmdY7QVPShzfBkWr&state=bqsHA7fEwQylLIzbfj5c7oJGXEaGripv
```

## 3. Use the code returned in above to call auth server to get Access token
```
curl -X POST http://localhost:9000/oauth2/token \
     -u oidc-client:secret \
     -d "grant_type=authorization_code" \
     -d "code=SbkqOMB6NBXTcemfVWwy4BZJOBSuK_vfWcaV7NI7fUsUr18nslCRPewEFBWj3JQ8lQc9aXyNVuSb-Bg0wVPXwWz6FRYuF65bIBjUG560Bmwx3kBRp1TrJjILayULjmjB&state=ySiobE9rlHZFNg1bTwkHAk6X3OrD5b0W" \
     -d "redirect_uri=http://localhost:3000/callback"

{"access_token":"eyJraWQiOiIxNGY3ZTI5NS05MDE5LTRiZjgtYmFjMi03MjgxMTdlZTAxNjYiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiYXVkIjoib2lkYy1jbGllbnQiLCJuYmYiOjE3NjU0ODE0ODQsInNjb3BlIjpbIm9wZW5pZCIsInByb2ZpbGUiXSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo5MDAwIiwiZXhwIjoxNzY1NDgzMjg0LCJpYXQiOjE3NjU0ODE0ODQsImp0aSI6IjI4YWYzMDNkLTFkYTEtNGVlNi05MmViLTNkOWEzOGQ3MmVhOCIsImF1dGhvcml0aWVzIjpbIlJPTEVfVVNFUiJdLCJ1c2VybmFtZSI6InVzZXIifQ.lhBXZK9xCjGFs1O_K9IGRxLdSEbdmzLq3bePKvrItkqsZW19rFjeUsdk_NUAWdB-ons-0IaKaG1WoraGXuEDQ9kUhyJGkPO3GmaWPSto1RT9vS-OjBlZfMsymMABI6U5wg8ktqOhOS6Wl1radlE6DQ7A6NKjfiZBui4w0LpZkzERhybeX3ejsSr3Woyp0iAJZAitZm_bz_l6AG5jf1ZVpqJiJMOlnRxYLAqrQbuDbR3B7lTdD_o9ecsEE__es3MvcE3mtIe2rV5C5q6GemUqr2zhmp5eXlk5jziDsOYX8fYVb8eAWxr1wu3HKk3uL1nqYeSfWwOB4pl7AohebO6OrA","refresh_token":"JvVB5-dciT9zZp978B-pMKoS2kLmYY2G4jkSu0S5I53VY-PSRtwCCDBJslcsMIBEwA2eBqsAUcxx637SBebGlty53ko1QoxGXg-1PYxe_EbXsFJrApCLUPSGGjWOzrdq","scope":"openid profile","id_token":"eyJraWQiOiIxNGY3ZTI5NS05MDE5LTRiZjgtYmFjMi03MjgxMTdlZTAxNjYiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6OTAwMCIsInByZWZlcnJlZF91c2VybmFtZSI6InVzZXIiLCJub25jZSI6IjdKbnlUSEZ5WlVRTnpWTWVXdnZDTDVwcU1aNmtveWxTIiwic2lkIjoiVnBiT09nQkxmajZFNjY1azZ2X3VkcVFBNUl5S2dPZ3Nkd1VwVC1pMzlMSSIsImF1ZCI6Im9pZGMtY2xpZW50IiwiYXpwIjoib2lkYy1jbGllbnQiLCJhdXRoX3RpbWUiOjE3NjU0ODEzNDMsIm5hbWUiOiJ1c2VyIiwiZXhwIjoxNzY1NDgzMjg0LCJpYXQiOjE3NjU0ODE0ODQsImp0aSI6IjBmYTY2NGQ2LTU5Y2UtNGEwMi1hMjQxLTk2NTM2NDNiMjU1NSIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.xQ_j_z-8p8v7R3aRzFmB3olp814oGTiceYCeGStXhOomcSbymgD-jJR63IP_px2_-tyjHGyhXJ3rINc5OFNKJfn-QUmz827TRT4OYNWi1jmDBGGdds8JzC4GuDCu1ryuyneiaCpKHg2ExiBri8xsCheUeSusJLXm5tA67HJLkRIZkxY19QYs__hrY3K48ydsN58RgeyzvQ7975ilS26_96pjVGoKhAoMXqKS_Y08B6CuYPWChBZPWyl0okya5QwZ7AbDZ3naKaMzH9W6N5n969wk66aZOjFPXWXlyH0AgoCb3lgxyy6OP8RBu3U92abPozsWWTuy0mb3q51yheOVBg","token_type":"Bearer","expires_in":1799}
```
